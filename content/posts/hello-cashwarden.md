---
title: "CashWarden 一款开源的资产管理系统"
date: 2020-09-04T14:09:00+08:00
tags: ["CashWarden", "开源项目", "Side project"]
draft: false
toc: true
---

## 引言

今天要分享是一款我自己写的资产管理系统，而且这个系统代码开源。这篇文章我就来说说它的特性和使用指南。

- 官网地址： <http://www.cashwarden.com/>
- 源码地址： <https://github.com/cashwarden>

## 特性

### 记账

资产系统最重要也是最基本的肯定是记账了，清楚自己的每一笔收支情况。为了让记账更轻松，我还开发了一个快速记账功能。

<!--more-->

我们平常不想记账的一个原因可能就是嫌记账太麻烦了，要输入很多东西，所以我参考了之前我用的记账软件，设计了这个功能。简单的来说就是可以通过发送一句话实现记账功能，效果如下：

![20200904A2e1h7](https://blog-1251237404.cos.ap-guangzhou.myqcloud.com/20200904A2e1h7.png)


### 账号

一个资产管理系统，不单单只是记账功能，还应该可以一览无余的知道自己的资产，所以就有了账号模块。你可以把你的所有储蓄卡、信用卡统统添加记录上来，做一个对自己资产了如指掌的人。

### 分析

目前在账号、记录和仪表盘都可以看到一些分析统计的数据，初期急着上线所以比较简陋，等后期再完善。


### 定时自动记账

这个使用场景有很多，比方说：

- 每天的通勤地铁费用都说固定的，而且一般都是在法定工作日。
- 配合支付宝定期存钱
- 基金定期扣款
- ……


### 预算

有计划，但暂未开发。


## 使用指南

### 使用快速记账

目前快速记账功能是通过关键词匹配实现的，所以要想使用这个功能你就要先在 「设置 -> [规则设置](http://www.cashwarden.com/#/settings/rules)」中添加你的配置。然后才可以正常使用，目前「快速记账」有两个入口：

1⃣️ 在[记录](http://www.cashwarden.com/#/record/index)页面直接输入关键词然后按下回车键就可以添加了。

![20200904g5uVQh](https://blog-1251237404.cos.ap-guangzhou.myqcloud.com/20200904g5uVQh.png)

2⃣️ 给 Telegram Bot 发消息记账

在[账号绑定](http://www.cashwarden.com/#/settings/personal/binding)页面按照提示先绑定自己的 Telegram 账号就可以使用了。

另外日期我可以帮你智能的匹配好了，默认情况下是当前时间，但是你也可以这样去记账：

- 昨天买菜23：添加时间是昨天的记录
- 前天买菜23：添加时间是前天的记录
- 23号买菜23：如果本月23号已经过了，那么添加时间是本月23号的记录。否则就是上个月23号的记录。
- 8月23号买菜23：如果本年8月23号已经过了，那么添加时间是本年8月23号的记录。否则就是去年8月23号的记录。

### 规则的使用

配置关键词（可以多个）之后，快速记账的时候就会根据关键词记账。我们可以分配支付或者收入的账号，还可以分配类别和标签。最关键的是可以匹配多个关键词，根据优先级来依序匹配记账。这意味着你可以实现快速记账的时候分配指定支付账号。

比方说吃饭这个事情，有时候我用饭卡消费，有时候用微信零钱，有时候用支付宝等等。那么我们就可以这样设置规则：

- 添加一条「饭」关键词，然后分配对应的默认支付账户（比方说是饭卡），分配分类，分配标签等，**使用默认排序**。
- 添加几条账户支付相关的规则，只需要设置关键词和分配支付账号，**把排序设置为10**（越小数字优先级越高）。

如果是饭卡消费的你只要输入「午饭20」就可以了，如果是支付宝消费的，你就可以输入「午饭支付宝20」。


### 标签说明

标签设置除了常规的标签操作之外，还有一个需要说明的就是：

- 如果使用快速记账功能，描述信息如果存在标签库中，会自动在这笔记账信息中标注标签。

比方说我现在在标签设置中添加了「地铁」关键词，但是我在规则中改关键词规则并没有设置 「分配关键词」。但是当使用「地铁3.9」快速记账的时候，会自动加上「地铁」标签。

### 定时记账使用

- 先添加一笔记录，然后在记录列表找到「添加定时记账」按钮。

![20200912RPOALI](https://blog-1251237404.cos.ap-guangzhou.myqcloud.com/20200912RPOALI.png)

- 目前支持的频率有：每天、每周、每月、工作日（周一至周五）、中国大陆的法定工作日。如果不够用欢迎反馈。

![20200912GBYMDN](https://blog-1251237404.cos.ap-guangzhou.myqcloud.com/20200912GBYMDN.png)

- 每天记账统一是 UTC+8 时区9点执行（暂时简单粗暴）。

- 如果想要 Telegram 定时记账成功的通知，之前**绑定过 Telegram 的用户**需要重新绑定一次，没绑定的去绑定就可以了，效果如下（标题不一样）：

![20200912UWlhko](https://blog-1251237404.cos.ap-guangzhou.myqcloud.com/20200912UWlhko.png)

## 诞生记

### 起因

开发这个资产管理系统是因为我常用的一款记账软件（微记账）在7月份的时候发布了一个公告，上个月之后他们要停更了，而且他们没有 Web 版一直用着不爽，我早就想自己开发一款记账软件了，正好借着这个机会。

刚开始只是想开发一个记账软件，后来发现要做一个资产管理系统，要做的事情还是很多的。8月底的时候已经跑通了，于是发了[一个 Twitter](https://twitter.com/caizhenghai/status/1298480058357567489)，没想到获得 300 个点赞，很多人提出了想试用的要求，所以我不得不抓紧时间调整细节，就在昨天（9月3号）对外公开内测了。

### 名字由来

密码管理我以前一直用 1Password，移动端免费，但是多账号同步收费，其实我都准备付费了的，直到我遇到了 [Bitwarden](https://bitwarden.com/)，开源，基本功能免费，而且还可以自己搭建，虽然界面没有 1Password 好看，但是基本功能也够我用了。

所以我这个系统就是想做资产管理届的 Bitwarden，于是就有了 CashWarden。

## 最后

我们开了一个 Telegram 讨论组，如果你对此系统感兴趣欢迎加入讨论，地址是 <https://t.me/cashwarden>