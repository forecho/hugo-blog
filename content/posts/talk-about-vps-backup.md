---
title: "谈谈 VPS 的备份方案"
date: 2016-08-24T22:19:00+08:00
tags: ["经验分享"] 
draft: false
toc: true
---

## 引言

数据备份对一个网站来说是至关重要的。

[GetYii](http://www.getyii.com/) 由于数据量不大之前一直采用的是我写的[ yiier/yii2-backup 扩展](https://github.com/yiier/yii2-backup)实现的备份数据库发邮件，然后再设置个crontab 定时任务。

但是数据库大的情况就不行了，那个方案也不能备份代码，而且只适用于 Yii2 框架。所以最近在找其他解决方案。

于是乎找到下面三种解决方案：

<!--more-->

## 多备份

[多备份](http://www.dbfen.com/index.php/users/newuser_by/B277CCFD) 是一个在线备份服务，操作非常
简单省事，小白分分钟也能搞定。

多备份也提供免费版服务，免费赠送2GB/月的空间，6GB/月的流量，免费备份文件和数据库。我看了一下也够用。
但是免费版只能设置一个星期备份一次和一个月备份一次，而且不能设置几点开始自动执行备份，这个就有点让人费解了。

## 备份到七牛

[七牛](https://portal.qiniu.com/signup?code=3lo4wme64nas2) 我就不多说了吧，专注于数据资源这块，而且还提供免费额度。
免费用户每月存储10G，下载国内10G/月，国外10G/月。

使用七牛最主要的原因是我找到了这个项目[备份vps到七牛云存储脚本](https://github.com/ccbikai/backuptoqiniu)，使用也非常简单。
分分钟搞定，刚才测试了一下，功能完全满足我的需求。可以写一个定时任务，凌晨2点的时候跑脚本。

但是有一个问题，如果备份文件比较大，可能上传文件要很久。

## 备份到阿里云 OSS

备份到七牛太慢，让我想到了阿里云 OSS，因为我用的是阿里云的服务器，使用阿里云 OSS 上传的话可以走内网，不需要花费
流量而且内网速度也应该会很快。

于是我找到这篇文章[备份到阿里云的oss](http://xinlogs.com/2014/02/09/backup-to-aliyun-oss/)


## 总结

以上是我找到的三个备份解决方案，由于时间原因，第三个备份方案我还没来得及尝试。目前的解决方案是方案一+方案二。
双重备份，数据更可靠。

其实如果你是国外的 VPS 的话，还有一个备份到 Dropbox 的解决方案，国内 VPS 不能用，呵呵。



