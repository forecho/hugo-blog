---
title: "CashWarden 使用指南之快速记账"
date: 2020-11-25T14:09:00+08:00
tags: ["CashWarden"]
draft: false
toc: true
---

## 引言

这是 CashWarden 使用指南系列文章，如果你还不知道什么是 CashWarden？请查看 [《CashWarden 一款开源的资产管理系统》](https://blog.forecho.com/hello-cashwarden.html)。

我觉得 CashWarden 最大的亮点就是快速记账功能了，所以这篇文章我会分享这个功能的使用指南以及我对此的一些思考，如果你有更好的想法欢迎与我交流。

<!--more-->

## 快速记账 1.0

之前可能有提过，此功能有借鉴「微记账」和 iOS 的「捷径」两款 App。但是捷径交互有点复杂，我想让用户使用起来更加简单，所以就有了「规则」模块。

以下是最初版的规则说明，为了方便后面升级说明，我又复制了一份：

> 配置关键词（可以多个）之后，快速记账的时候就会根据关键词记账。我们可以分配支付或者收入的账号，还可以分配类别和标签。最关键的是可以匹配多个关键词，根据优先级来依序匹配记账。这意味着你可以实现快速记账的时候分配指定支付账号。

> 比方说吃饭这个事情，有时候我用饭卡消费，有时候用微信零钱，有时候用支付宝等等。那么我们就可以这样设置规则：

> - 添加一条「饭」关键词，然后分配对应的默认支付账户（比方说是饭卡），分配分类，分配标签等，使用默认排序。
> - 添加几条账户支付相关的规则，只需要设置关键词和分配支付账号，把排序设置为10（越小数字优先级越高）。

> 如果是饭卡消费的你只要输入「午饭20」就可以了，如果是支付宝消费的，你就可以输入「午饭支付宝20」。

之后更加用户的反馈，我又加了默认金额功能，这样如果是一项固定金额的支出，你甚至都不用输入金额就可以记账了。


## 快速记账 2.0

为了开发联合记账，让家庭小团队能同时记账，我开发了账本功能，但是一旦加入账本概念，让原本的功能都变得要复杂都多了。我不得不做了以下调整：

### 分类关键词

![20201125w1AFYE](https://blog-1251237404.cos.ap-guangzhou.myqcloud.com/20201125w1AFYE.png)

为了账本内其他成员能方便的快速记账，我开发了分类和账户关键词功能，这样快速记账的时候，其他成员几乎不需要配置也可以很方便的使用快速记账功能了。

我举一些例子来说明吧，还是拿吃饭来说，我给「餐饮食品」分配了 「饭,餐,水果,面包,菜,水」几个关键词，在没有任何规则的情况下，只使用了分类关键词，那么我输入「午餐20」，如果一切顺利的话，会新增一条这样的记录：

```
账本：默认账本
支付账户：默认账户
交易类型：支出（默认是支出）
分类：餐饮食品
金额：20
```

同理，如果你使用「买菜20」、「午饭20」、「工作餐20」等描述记账，你都会添加跟上面类似的一条记录。

### 账户关键词

![20201125EGDhFJ](https://blog-1251237404.cos.ap-guangzhou.myqcloud.com/20201125EGDhFJ.png)

还是接着上面说，话说有一天招行信用卡支付有活动，于是你午饭选了招行信用卡支付，那么你怎么快速记账呢？

这个时候你需要配合账户关键词了，事先你需要新增一个招行信用卡账户，然后关键词使用「招行信用卡」，这样当你输入「招行信用卡午餐20」的时候，会新增一条这样的记录：

```
账本：默认账本
支付账户：招行信用卡
交易类型：支出（默认是支出）
分类：餐饮食品
金额：20
```

### 规则

规则还属于个人名下，但是每条规则必须要选择分配的账本。除了以前那样使用规则，你还可以：

**一、 通过规则来分配账本**

![202011252gds6f](https://blog-1251237404.cos.ap-guangzhou.myqcloud.com/202011252gds6f.png!m)

比方说我新建了一个「生意账本」我新增了一个这样的账本，这样我每次快速记账的时候，只要输入的描述带有「生意」就会记录到生意账本里面，但是需要注意的是，如果记录到生意账本，只会使用生意账本的分类关键词。

**二、 使用「*」特殊关键词**

![20201125YmToLv](https://blog-1251237404.cos.ap-guangzhou.myqcloud.com/20201125YmToLv.png!m)

比方说我新建了一个旅游账本，准备出去玩一个星期，如何让快速记账全部方便快捷的记录到指定的账本里面呢？我开发了一个「*」关键词，一旦你配置并且开启了此功能，此刻你所记录的所有记录都会归为你配置的账本里面（记账描述的时候不需要特殊的关键词），结束旅行之后，你可以通过关闭此规则来恢复日常记账。

当然你也可以通过修改默认账本来实现此功能，但不会有「分配标签」功能。

## 最后

通过给分类和账户增加关键词功能，大大减少了规则的使用场景，规则更适用于固定收支和转账的场景。

目前所做的功能都有为之后复制和分享账本模版做了铺垫，如果你看完此篇文章对快速记账还是有疑问的话，欢迎在 Telegram 讨论组中与我交流，地址： <https://t.me/cashwarden>

或者给我写 Email： caizhenghai[@]gmail.com

